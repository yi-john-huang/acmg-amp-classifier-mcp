# MCP ACMG/AMP Server Environment Configuration
# Copy this file to .env and configure the values for your deployment

# =============================================================================
# Database Configuration
# =============================================================================
POSTGRES_DB=acmg_amp_mcp
POSTGRES_USER=mcpuser
POSTGRES_PASSWORD=your_secure_postgres_password_here
POSTGRES_PORT=5432

# Database URL (automatically constructed from above values)
# DATABASE_URL=postgresql://mcpuser:password@postgres:5432/acmg_amp_mcp?sslmode=disable

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_PORT=6379

# Redis URL (automatically constructed from above values)
# REDIS_URL=redis://:password@redis:6379/0

# =============================================================================
# MCP Server Configuration
# =============================================================================

# Transport Configuration
MCP_TRANSPORT=http
MCP_HTTP_PORT=8080
MCP_HTTPS_PORT=8443
MCP_METRICS_PORT=9090

# Logging Configuration
MCP_LOG_LEVEL=info
MCP_LOG_FORMAT=json

# Performance Configuration
MCP_MAX_CONNECTIONS=1000
MCP_CACHE_ENABLED=true
MCP_COMPRESSION_ENABLED=true

# Security Configuration
MCP_TLS_ENABLED=false
MCP_TLS_CERT_PATH=/app/certs/server.crt
MCP_TLS_KEY_PATH=/app/certs/server.key

# Application Configuration
RUN_MIGRATIONS=true
GOMAXPROCS=0

# =============================================================================
# External API Keys (Required for variant classification)
# =============================================================================

# ClinVar API Key
# Get from: https://www.ncbi.nlm.nih.gov/account/
CLINVAR_API_KEY=your_clinvar_api_key_here

# gnomAD API Key (if required)
# Get from: https://gnomad.broadinstitute.org/
GNOMAD_API_KEY=your_gnomad_api_key_here

# COSMIC API Key
# Get from: https://cancer.sanger.ac.uk/cosmic/
COSMIC_API_KEY=your_cosmic_api_key_here

# HGMD API Key (if using HGMD)
HGMD_API_KEY=your_hgmd_api_key_here

# =============================================================================
# SSL/TLS Certificate Paths (for HTTPS)
# =============================================================================
TLS_CERTS_PATH=./certs

# =============================================================================
# Nginx Reverse Proxy Configuration (Optional)
# =============================================================================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# =============================================================================
# Monitoring Configuration (Optional)
# =============================================================================
PROMETHEUS_PORT=9091
GRAFANA_PORT=3000
GRAFANA_PASSWORD=admin

# =============================================================================
# Development/Testing Configuration
# =============================================================================

# Enable debug mode (development only)
DEBUG=false

# Enable development features
DEV_MODE=false

# Test database (for testing)
TEST_DATABASE_URL=postgresql://mcpuser:password@localhost:5432/acmg_amp_mcp_test

# =============================================================================
# Docker Compose Profiles
# =============================================================================

# Available profiles:
# - default: mcp-server, postgres, redis
# - proxy: includes nginx reverse proxy
# - monitoring: includes prometheus and grafana
# - tools: includes development tools

# Example: docker-compose --profile monitoring --profile proxy up
COMPOSE_PROFILES=default

# =============================================================================
# Performance Tuning
# =============================================================================

# Database Connection Pool Settings
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=300s

# Redis Connection Pool Settings
REDIS_MAX_IDLE=10
REDIS_MAX_ACTIVE=100
REDIS_IDLE_TIMEOUT=240s

# Cache Configuration
CACHE_DEFAULT_TTL=15m
CACHE_MAX_SIZE=100MB

# Compression Settings
COMPRESSION_THRESHOLD=1KB
COMPRESSION_LEVEL=6

# =============================================================================
# Security Configuration
# =============================================================================

# CORS Configuration
CORS_ALLOWED_ORIGINS=*
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# Authentication (if enabled)
JWT_SECRET=your_jwt_secret_here
AUTH_ENABLED=false

# =============================================================================
# Healthcare/Clinical Configuration
# =============================================================================

# HIPAA Compliance Mode
HIPAA_COMPLIANCE_MODE=false

# Audit Logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=90

# Data Anonymization
ANONYMIZE_PATIENT_DATA=true

# Clinical Validation Mode
CLINICAL_VALIDATION_MODE=false

# =============================================================================
# Advanced Configuration
# =============================================================================

# Container Resource Limits (for Docker Compose)
MCP_SERVER_CPU_LIMIT=2.0
MCP_SERVER_MEMORY_LIMIT=2G
MCP_SERVER_CPU_RESERVATION=0.5
MCP_SERVER_MEMORY_RESERVATION=512M

POSTGRES_CPU_LIMIT=1.0
POSTGRES_MEMORY_LIMIT=1G
POSTGRES_CPU_RESERVATION=0.25
POSTGRES_MEMORY_RESERVATION=256M

REDIS_CPU_LIMIT=0.5
REDIS_MEMORY_LIMIT=512M
REDIS_CPU_RESERVATION=0.1
REDIS_MEMORY_RESERVATION=64M

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# Backup Configuration
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30